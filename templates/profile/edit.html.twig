{% extends 'base.html.twig' %}

{% block title %}Modifier mon Profil - BacLab{% endblock %}

{% block body %}
<div class="container" style="padding: 80px 20px;">
    <div class="row">
        <div class="col-12">
            <div style="background: linear-gradient(135deg, #667eea, #764ba2); padding: 40px; border-radius: 20px; color: white; margin-bottom: 40px; box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);">
                <h1 style="font-size: 42px; font-weight: 800; margin-bottom: 15px;">
                    <i class="fas fa-edit" style="margin-right: 15px;"></i>
                    Modifier mon Profil
                </h1>
                <p style="font-size: 18px; opacity: 0.95; margin: 0;">
                    Mettez à jour vos informations personnelles
                </p>
            </div>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div style="background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
            
                {{ form_start(form) }}
                
                <!-- Section Informations Personnelles -->
                <div style="margin-bottom: 40px;">
                    <h3 style="font-size: 24px; font-weight: 700; color: #1a202c; margin-bottom: 25px; border-bottom: 3px solid #667eea; padding-bottom: 15px;">
                        <i class="fas fa-user" style="color: #667eea; margin-right: 10px;"></i>
                        Informations Personnelles
                    </h3>
                    
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <label for="profil_nom" style="display: block; font-size: 17px; font-weight: 700; color: #1a202c; margin-bottom: 12px;">
                                <i class="fas fa-user-circle" style="color: #667eea; margin-right: 8px;"></i>
                                Nom
                            </label>
                            {{ form_widget(form.nom, {
                                'attr': {
                                    'class': 'form-control',
                                    'style': 'width: 100%; padding: 18px 22px; font-size: 18px; border: 2.5px solid #e2e8f0; border-radius: 14px; background: #f8fafc; color: #1a202c; font-weight: 500;'
                                }
                            }) }}
                            {{ form_errors(form.nom) }}
                        </div>
                        
                        <div class="col-md-6 mb-4">
                            <label for="profil_prenom" style="display: block; font-size: 17px; font-weight: 700; color: #1a202c; margin-bottom: 12px;">
                                <i class="fas fa-user-tag" style="color: #667eea; margin-right: 8px;"></i>
                                Prénom
                            </label>
                            {{ form_widget(form.prenom, {
                                'attr': {
                                    'class': 'form-control',
                                    'style': 'width: 100%; padding: 18px 22px; font-size: 18px; border: 2.5px solid #e2e8f0; border-radius: 14px; background: #f8fafc; color: #1a202c; font-weight: 500;'
                                }
                            }) }}
                            {{ form_errors(form.prenom) }}
                        </div>
                        
                        <div class="col-md-6 mb-4">
                            <label for="profil_dateNaissance" style="display: block; font-size: 17px; font-weight: 700; color: #1a202c; margin-bottom: 12px;">
                                <i class="fas fa-calendar-alt" style="color: #667eea; margin-right: 8px;"></i>
                                Date de Naissance
                            </label>
                            {{ form_widget(form.dateNaissance, {
                                'attr': {
                                    'class': 'form-control',
                                    'style': 'width: 100%; padding: 18px 22px; font-size: 18px; border: 2.5px solid #e2e8f0; border-radius: 14px; background: #f8fafc; color: #1a202c; font-weight: 500;'
                                }
                            }) }}
                            {{ form_errors(form.dateNaissance) }}
                        </div>
                        
                        <div class="col-md-6 mb-4">
                            <label for="profil_gouvernorat" style="display: block; font-size: 17px; font-weight: 700; color: #1a202c; margin-bottom: 12px;">
                                <i class="fas fa-map-marker-alt" style="color: #667eea; margin-right: 8px;"></i>
                                Gouvernorat
                            </label>
                            {{ form_widget(form.gouvernorat, {
                                'attr': {
                                    'class': 'form-select',
                                    'style': 'width: 100%; padding: 18px 22px; font-size: 18px; border: 2.5px solid #e2e8f0; border-radius: 14px; background: #f8fafc; color: #1a202c; font-weight: 500;'
                                }
                            }) }}
                            {{ form_errors(form.gouvernorat) }}
                        </div>
                    </div>
                </div>

                <!-- Section Parcours Scolaire -->
                <div style="margin-bottom: 40px;">
                    <h3 style="font-size: 24px; font-weight: 700; color: #1a202c; margin-bottom: 25px; border-bottom: 3px solid #f093fb; padding-bottom: 15px;">
                        <i class="fas fa-graduation-cap" style="color: #f093fb; margin-right: 10px;"></i>
                        Parcours Scolaire
                    </h3>
                    
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <label for="profil_niveau" style="display: block; font-size: 17px; font-weight: 700; color: #1a202c; margin-bottom: 12px;">
                                <i class="fas fa-layer-group" style="color: #f093fb; margin-right: 8px;"></i>
                                Niveau
                            </label>
                            {{ form_widget(form.niveau, {
                                'attr': {
                                    'class': 'form-control',
                                    'style': 'width: 100%; padding: 18px 22px; font-size: 18px; border: 2.5px solid #e2e8f0; border-radius: 14px; background: #f8fafc; color: #1a202c; font-weight: 500;'
                                }
                            }) }}
                            {{ form_errors(form.niveau) }}
                        </div>
                        
                        <div class="col-md-6 mb-4">
                            <label for="profil_filiere" style="display: block; font-size: 17px; font-weight: 700; color: #1a202c; margin-bottom: 12px;">
                                <i class="fas fa-flask" style="color: #f093fb; margin-right: 8px;"></i>
                                Filière
                            </label>
                            {{ form_widget(form.filiere, {
                                'attr': {
                                    'class': 'form-control',
                                    'style': 'width: 100%; padding: 18px 22px; font-size: 18px; border: 2.5px solid #e2e8f0; border-radius: 14px; background: #f8fafc; color: #1a202c; font-weight: 500;'
                                }
                            }) }}
                            {{ form_errors(form.filiere) }}
                        </div>
                    </div>
                </div>

                <!-- Boutons d'action -->
                <div style="display: flex; gap: 15px; justify-content: flex-end;">
                    <a href="{{ path('app_profile') }}" style="padding: 18px 35px; font-size: 18px; font-weight: 700; color: #718096; background: #e2e8f0; border: none; border-radius: 14px; text-decoration: none; display: inline-block;">
                        <i class="fas fa-times" style="margin-right: 8px;"></i>
                        Annuler
                    </a>
                    <button type="submit" style="padding: 18px 35px; font-size: 18px; font-weight: 700; color: white; background: linear-gradient(135deg, #667eea, #764ba2); border: none; border-radius: 14px; cursor: pointer; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.45);">
                        <i class="fas fa-save" style="margin-right: 8px;"></i>
                        Enregistrer les modifications
                    </button>
                </div>

<!-- Zone dangereuse -->
<div style="margin-top: 45px; border: 2px solid rgba(229,62,62,.25); background: rgba(229,62,62,.06); border-radius: 16px; padding: 22px;">
    <h3 style="font-size: 22px; font-weight: 800; margin: 0; color: #1a202c;">
        <i class="fas fa-exclamation-triangle" style="color:#e53e3e; margin-right:10px;"></i>
    </h3>
    <p style="margin: 10px 0 0; color: #4a5568; font-weight: 600;">
        Désactivez votre compte ou supprimez-le définitivement (confirmation requise).
    </p>

    <div style="display:flex; gap:12px; flex-wrap:wrap; margin-top:16px;">
        <a href="{{ path('app_profile_disable_confirm', { token: disableToken }) }}"
           style="padding: 14px 18px; font-weight: 800; border-radius: 12px; text-decoration: none;
                  background: #f6ad55; color: #1a202c; box-shadow: 0 8px 18px rgba(246,173,85,.35);">
            <i class="fas fa-power-off" style="margin-right:8px;"></i> Désactiver mon compte
        </a>

        <a href="{{ path('app_profile_delete_confirm', { token: deleteToken }) }}"
           style="padding: 14px 18px; font-weight: 800; border-radius: 12px; text-decoration: none;
                  background: #e53e3e; color: white; box-shadow: 0 8px 18px rgba(229,62,62,.35);">
            <i class="fas fa-trash" style="margin-right:8px;"></i> Supprimer mon compte
        </a>
    </div>
</div>



                {{ form_end(form) }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
